import 'package:flutter/material.dart';
import 'package:path_drawing/path_drawing.dart';
import 'package:vector_math/vector_math_64.dart' hide Colors;

class SelfiePainter extends CustomPainter {
  final Color? color;

  SelfiePainter({super.repaint, this.color});

  @override
  void paint(Canvas canvas, Size size) {
    final paint = Paint()
      ..color = color ?? Colors.grey
      ..style = PaintingStyle.fill;

    final Rect bounds = selfiePath.getBounds();

    final double scaleX = size.width / bounds.width;
    final double scaleY = size.height / bounds.height;

    final Matrix4 matrix4 = Matrix4.identity();
    matrix4.scaleByVector3(Vector3(scaleX, scaleY, 0));
    matrix4.translateByVector3(Vector3(-bounds.left, -bounds.top, 0));

    final Path scaledPath = selfiePath.transform(matrix4.storage);
    canvas.drawPath(scaledPath, paint);
  }

  @override
  bool shouldRepaint(covariant CustomPainter oldDelegate) {
    return true;
  }
}

final selfiePath = parseSvgPathData('''M616.000000,813.307739 
	C503.015686,813.305908 390.531372,813.305725 278.047058,813.299133 
	C267.189209,813.298462 265.655029,811.058960 266.398254,800.176208 
	C267.316284,786.733948 268.231110,773.296936 269.708008,759.907715 
	C271.955261,739.534485 275.129272,719.382080 283.528473,700.401367 
	C292.996979,679.004272 308.515411,663.971863 330.509186,656.139160 
	C361.709442,645.027710 393.083923,634.405396 424.380737,623.564880 
	C426.426239,622.856445 428.402985,621.917908 430.483246,621.347229 
	C438.567017,619.129395 441.449615,613.168274 441.621429,605.553955 
	C441.835693,596.059937 441.621521,586.556946 441.736694,577.059570 
	C441.768036,574.475403 440.840363,572.771912 438.856293,571.133667 
	C413.419830,550.131287 398.446869,522.938171 391.658447,490.941559 
	C391.175995,488.667572 390.910309,486.201111 388.113831,485.439453 
	C372.971680,481.315186 364.749573,470.060120 359.134674,456.561829 
	C354.188232,444.670563 352.190094,432.260376 355.674591,419.481903 
	C358.269287,409.966492 362.966553,401.962921 372.243896,397.496216 
	C374.637482,396.343781 375.066528,394.561798 374.851654,392.182495 
	C374.268402,385.722961 373.669373,379.260162 373.312286,372.785675 
	C371.981262,348.652985 373.666168,324.769226 381.834351,301.873993 
	C393.787537,268.369537 417.114563,245.223969 449.882782,232.265289 
	C486.738861,217.689972 524.477173,216.729324 561.563721,231.039780 
	C602.825867,246.961472 627.438354,277.727142 636.327698,320.967712 
	C641.106201,344.211792 640.272766,367.618896 637.435059,391.016083 
	C636.983887,394.735718 637.682373,397.145508 641.246521,399.665802 
	C653.262939,408.163025 657.027527,420.922455 656.104004,434.826447 
	C654.950195,452.198730 648.694641,467.529633 634.758118,478.938782 
	C631.639709,481.491699 628.374084,484.066803 624.532471,485.043518 
	C619.892090,486.223328 618.300781,489.081207 617.313110,493.330475 
	C611.874023,516.730835 601.365173,537.723267 586.647034,556.650513 
	C585.626099,557.963318 584.656311,559.434448 583.337891,560.378113 
	C574.291138,566.853577 571.812683,575.863892 572.299316,586.485962 
	C572.641907,593.963623 572.436951,601.470337 573.295166,608.929626 
	C574.037659,615.382690 578.081421,618.849915 583.932312,620.790710 
	C601.781677,626.711426 619.597778,632.732666 637.451294,638.640686 
	C655.149292,644.497314 672.924438,650.123779 690.581238,656.101074 
	C721.369934,666.523865 738.235962,689.301025 746.311890,719.676880 
	C751.155273,737.894348 753.647827,756.510254 755.331970,775.242432 
	C756.120911,784.018799 756.923889,792.807983 757.242859,801.608704 
	C757.614075,811.851318 756.076843,813.262878 745.979858,813.270142 
	C702.819885,813.301331 659.659973,813.298218 616.000000,813.307739 
M580.328125,259.177612 
	C577.248047,257.197174 574.275208,255.020737 571.071289,253.266541 
	C538.057861,235.191269 503.449371,232.507904 467.648041,243.062515 
	C422.488068,256.376190 396.123810,288.621735 390.367401,335.471893 
	C387.712708,357.077942 388.689758,378.676514 391.850769,400.189178 
	C392.669373,405.760284 390.213257,409.531647 384.702698,410.099152 
	C377.063751,410.885773 373.429291,415.649750 371.177490,422.238739 
	C365.693329,438.286163 375.447205,459.412994 386.479736,467.388428 
	C389.335327,469.452759 392.475494,470.737854 396.204102,470.749603 
	C401.918518,470.767609 404.269165,472.701691 405.081451,478.167908 
	C405.818420,483.127411 407.052490,487.944702 408.345245,492.755371 
	C419.459595,534.115479 444.101318,563.622742 484.565765,578.948547 
	C500.108459,584.835266 516.066650,584.735352 531.403687,578.536865 
	C552.233887,570.118408 568.249268,555.372986 580.954956,537.132629 
	C592.608459,520.402893 600.076843,501.720490 604.273926,481.809326 
	C605.477844,476.098236 608.497375,472.934448 613.999390,471.986267 
	C618.835266,471.152893 622.615662,468.550964 626.022644,465.279785 
	C633.354675,458.239990 637.432190,449.465027 639.709961,439.680237 
	C641.152161,433.485046 640.910889,427.417847 638.733276,421.508148 
	C636.697327,415.982971 633.707275,411.562958 626.945374,410.800507 
	C621.502441,410.186798 619.214600,406.242889 620.159363,400.691864 
	C623.833740,379.102356 625.379517,357.442474 622.761963,335.584900 
	C619.049622,304.584412 606.493408,278.518677 580.328125,259.177612 
M638.909363,655.766785 
	C627.706970,652.017700 616.506592,648.262512 605.301392,644.521790 
	C598.816162,642.356750 598.887878,642.401123 596.084473,648.624878 
	C578.925354,686.719788 538.462219,709.905396 497.344482,704.798584 
	C461.682648,700.369324 435.219360,681.351074 420.067139,648.130859 
	C418.012421,643.625977 416.012970,643.268738 411.777802,644.757568 
	C387.755859,653.202087 363.660156,661.438660 339.552185,669.635925 
	C320.775848,676.020386 307.034210,687.841125 298.539612,705.946960 
	C292.516785,718.784241 289.711823,732.402771 287.345032,746.189209 
	C284.838226,760.791138 284.091919,775.579590 282.722961,790.304749 
	C282.056702,797.471008 282.025726,797.789490 289.039154,797.789246 
	C436.485931,797.783569 583.932739,797.777649 731.379517,797.772644 
	C741.644653,797.772339 741.643799,797.775574 740.816467,787.434326 
	C740.776672,786.936462 740.782898,786.434998 740.746399,785.936768 
	C739.175598,764.511169 736.491272,743.282471 730.724243,722.497131 
	C723.497925,696.452271 708.711609,677.766785 681.886597,669.841309 
	C667.687805,665.646240 653.719116,660.672302 638.909363,655.766785 
M574.966553,653.488098 
	C578.481628,648.647583 581.505249,643.567444 583.176392,637.326111 
	C580.279236,636.174805 577.706665,635.048950 575.064331,634.121643 
	C566.875366,631.247925 561.865662,625.390137 559.193909,617.343506 
	C557.120667,611.099121 556.714783,604.625732 556.745483,598.102173 
	C556.767029,593.531555 556.749695,588.960815 556.749695,583.563049 
	C523.956665,604.371033 491.591125,603.240479 459.472137,585.182190 
	C457.338257,587.258911 457.421112,589.282837 457.405060,591.271729 
	C457.363434,596.437317 457.584076,601.619629 457.247253,606.765564 
	C456.354645,620.401123 451.130035,631.220337 437.292206,636.147949 
	C435.930695,636.632751 434.362366,636.938965 433.466034,638.761780 
	C435.813171,645.371094 439.289337,651.593018 443.706451,657.229736 
	C461.414124,679.826782 484.926910,691.129456 513.355652,689.267517 
	C538.943970,687.591614 559.417969,674.961731 574.966553,653.488098 
z''');
